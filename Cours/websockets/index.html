<!DOCTYPE html>
<html lang="fr">
<head>
<title>WebSockets</title>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-V1RDHTJSDW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-V1RDHTJSDW');
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2631008307109231"
     crossorigin="anonymous"></script>
    <title>Cours : Introduction aux WebSockets</title>
    <link rel="icon" href="../../Stand.png" type="image/x-icon">
    <link rel="shortcut icon" href="../../Stand.png" type="image/x-icon">
    <link rel="stylesheet" href="../../styles.css">
    <style>
        /* Styles g√©n√©raux */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            color: #333;
            background-color: #f4f4f4;
            justify-content: center;
        }

        header {
            background-color: #4c8eaf;
            color: white;
            text-align: center;
            padding: 0.2em;
        }

        header h1 {
            margin: 0;
            font-size: 2.5em;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        h2 {
            color: #4c99af;
            margin-top: 1.5em;
        }

        p {
            line-height: 1.6;
        }

        code {
            background: #f4f4f4;
            padding: 5px;
            display: block;
            margin: 10px 0;
            white-space: pre-wrap;
            border-radius: 5px;
            color: #d63384;
        }

        /* Styles pour le panneau lat√©ral */
        #sidebar {
            position: fixed;
            top: 0;
            left: -220px;
            width: 200px;
            height: 100%;
            background-color: #333;
            color: white;
            padding: 20px;
            transition: left 0.3s ease;
            box-sizing: border-box;
            z-index: 1000;
        }

        #sidebar h2 {
            font-size: 1.2em;
            margin-bottom: 1em;
            color: #fff;
        }

        #sidebar ul {
            list-style: none;
            padding: 0;
        }

        #sidebar ul li {
            margin: 10px 0;
        }

        #sidebar ul li a {
            color: #ddd;
            text-decoration: none;
            font-size: 0.95em;
        }

        #sidebar ul li a:hover {
            background-color: #575757;
            border-radius: 5px;
            color: #fff;
        }

        /* Bouton d'ouverture de la barre lat√©rale */
        #toggleButton {
            position: fixed;
            top: 100px;
            left: 20px;
            background-color: #4c8eaf;
            color: white;
            padding: 10px;
            border: none;
            cursor: pointer;
            font-size: 16px;
            z-index: 1100;
            border-radius: 5px;
        }

        .content {
            
            padding: 20px;
            max-width: 800px;
            align-items: center;
        }

        footer {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 15px;
            margin-top: 20px;
        }

        .links1 {
            color: #4CAF50;
            text-decoration: none;
            margin: 0 10px;
        }

        .links1:hover {
            text-decoration: underline;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <div class="navbar" id="navbar">
        <a href="../../index.html"><img src="../../Titre.png" alt="Logo"></a>
        <ul><li><a href="./../index.html">Menu</a></li>
            <li><a href="../index.html">Articles et cours</a></li>
            <li><a href="../../index.html#links">Abouts</a></li>
            <li><a href="../../Galery/index.html">Play</a></li>
            
            
        </ul>
    </div>
    <script>
        let lastScrollTop = 0;
        const navbar = document.getElementById("navbar");

        window.addEventListener("scroll", () => {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            if (scrollTop > lastScrollTop) {
                navbar.style.top = "-80px"; // Cache la navbar
            } else {
                navbar.style.top = "0"; // Affiche la navbar
            }
            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop; // Pour √©viter les valeurs n√©gatives
        });
    </script>
    <br>
    <br><br>
    <br>
<header>
    <h1>Introduction aux WebSockets</h1>
    <p>Comprendre le fonctionnement des WebSockets et leur utilisation dans les applications web.</p>
</header>

<!-- Panneau lat√©ral -->
<div id="sidebar">
    <h2><br>Plan du cours</h2>
    <ul>
        <br>
        <li>
        </li>
        <li><a href="#historique">Historique des WebSockets</a></li>
        <li><a href="#fonctionnement">Fonctionnement des WebSockets</a></li>
        <li><a href="#avantages">Avantages et cas d'utilisation</a></li>
        <li><a href="#mise-en-pratique">Mise en pratique</a>
            <ul>
                <li><a href="#serveur-python">Serveur WebSocket en Python</a></li>
                <li><a href="#client-js">Client WebSocket en JavaScript</a></li>
                <li><a href="#test">Tester la connexion</a></li>
            </ul>
        </li>
    </ul>
</div>

<!-- Bouton d'ouverture du panneau lat√©ral -->
<button id="toggleButton">‚ò∞ Menu</button>

<!-- Contenu principal -->
<div class="container content" style="align-items: center;">
    <a class="links1" href="../index.html">üîô</a>
    <section id="historique">
        <h2>Historique des WebSockets</h2>
        <p>
            Le protocole WebSocket a √©t√© introduit en 2008 et standardis√© par l'IETF en 2011. Avant cela, les
            applications web reposaient principalement sur le protocole HTTP pour la communication, qui fonctionnait 
            en mode requ√™te-r√©ponse. WebSocket est con√ßu pour permettre une communication en temps r√©el plus efficace.
        </p>
    </section>
    <section></section>
        <h1>Introduction</h1>
        <p>
            WebSocket est un protocole de communication bidirectionnel, full-duplex, con√ßu pour fonctionner sur une connexion 
            TCP, ce qui permet un √©change de donn√©es en temps r√©el entre un client (souvent un navigateur) et un serveur. 
            Contrairement au mod√®le traditionnel HTTP, o√π chaque requ√™te du client n√©cessite une r√©ponse du serveur 
            (mod√®le de requ√™te-r√©ponse), WebSocket √©tablit une connexion unique et persistante, permettant au client et
             au serveur de s‚Äôenvoyer des messages √† tout moment.
        </p>
    </section>

    <section id="fonctionnement">
        <h2>Fonctionnement des WebSockets</h2>
        <p><br>
            Le protocole WebSocket commence par une n√©gociation via une requ√™te HTTP standard, appel√©e handshake. Une fois la connexion √©tablie, celle-ci reste ouverte, permettant un √©change continu de messages entre le client et le serveur. Voici les principales √©tapes :
<br>
    <strong><em>Handshake HTTP :</em> </strong>
    <ul>
        <li>La connexion WebSocket est initi√©e par une requ√™te HTTP (avec l'en-t√™te Upgrade).</li>
        <li>Si le serveur accepte la demande, il r√©pond avec une mise √† niveau (HTTP 101 Switching Protocols), transformant ainsi la connexion HTTP en une connexion WebSocket.</li>
    </ul>
    <strong><em>Communication bidirectionnelle :</em> </strong>
    <ul>
        <li>Une fois la connexion √©tablie, le client et le serveur peuvent envoyer et recevoir des messages de mani√®re asynchrone et bidirectionnelle.</li>
        <li>Les messages sont encod√©s en trames (frames), ce qui permet d'envoyer de petits segments de donn√©es au lieu d‚Äôun gros paquet, r√©duisant ainsi la latence.</li>
    </ul>
   <strong><em>Fermeture de la connexion :</em> </strong> 
   <ul>
    <li>La connexion peut √™tre ferm√©e par le client ou le serveur en envoyant une trame de fermeture (Close frame), suivie d'un code de statut indiquant la raison.</li>
    
</ul>
        </p>
    </section>

    <section id="avantages">
        <h2> Avantages et inconv√©nients de WebSocket</h2>
        <h4>Avantages :</h4>
    <ul>
        <li><strong>Temps r√©el :</strong> La connexion persistante permet des mises √† jour instantan√©es, id√©ales pour des applications de chat, jeux en ligne, et tableaux de bord.</li>
        <li><strong>Latence faible :</strong> √âtant donn√© que la connexion est permanente, il n‚Äôy a pas besoin de cr√©er de nouvelles connexions pour chaque interaction.</li>
        <li><strong>Communication bidirectionnelle :</strong> Contrairement √† HTTP, WebSocket permet un flux d‚Äôinformations dans les deux directions.</li>
    </ul>

    <h4>Inconv√©nients :</h4>
    <ul>
        <li><strong>Overhead initial :</strong> La phase de handshake prend quelques millisecondes de plus.</li>
        <li><strong>Support limit√© :</strong> Bien que WebSocket soit largement pris en charge, certains pare-feux ou proxy peuvent bloquer les connexions WebSocket.</li>
        <li><strong>Complexit√© :</strong> Les messages doivent √™tre g√©r√©s dans les deux directions, n√©cessitant un traitement asynchrone et la gestion de plusieurs connexions.</li>
    </ul>
    </section>
<section>
    <h2>Comparaison WebSocket vs HTTP</h2>

<table>
    <thead>
        <tr>
            <th>Aspect</th>
            <th>WebSocket</th>
            <th>HTTP</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Connexion</td>
            <td>Persistante</td>
            <td>Ferm√©e apr√®s chaque requ√™te</td>
        </tr>
        <tr>
            <td>Latence</td>
            <td>Faible, connexion unique</td>
            <td>Haute, chaque requ√™te n√©cessite un nouvel √©change</td>
        </tr>
        <tr>
            <td>Mode de communication</td>
            <td>Bidirectionnel, full-duplex</td>
            <td>Requ√™te-r√©ponse, unidirectionnel</td>
        </tr>
        <tr>
            <td>Cas d‚Äôutilisation</td>
            <td>Chat, jeux, notifications, flux de donn√©es</td>
            <td>API REST, chargement de pages</td>
        </tr>
    </tbody>
</table>
</section>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2631008307109231"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-2631008307109231"
     data-ad-slot="7557046147"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
    <section id="mise-en-pratique">
        <h2>Mise en pratique</h2>
        
        <h3 id="serveur-python">Cr√©er un serveur WebSocket avec Python</h3>
        <p>Exemple de code pour un serveur WebSocket avec la biblioth√®que <code>websockets</code> en Python.</p>
        <pre><code>import asyncio
import websockets

async def serveur(websocket, path):
    async for message in websocket:
        await websocket.send(f"Message re√ßu: {message}")

start_server = websockets.serve(serveur, "localhost", 12345)

asyncio.get_event_loop().run_until_complete(start_server)
asyncio.get_event_loop().run_forever()</code></pre>

        <h3 id="client-js">Cr√©er un client WebSocket avec JavaScript</h3>
        <p>Code d'exemple pour un client WebSocket en JavaScript.</p>
        <pre><code>// Connexion WebSocket
const socket = new WebSocket("ws://localhost:12345");

socket.onopen = () => {
    socket.send("Bonjour serveur");
};

socket.onmessage = (event) => {
    console.log("Message re√ßu: ", event.data);
};

socket.onclose = () => {
    console.log("Connexion ferm√©e");
};</code></pre>

        <h3 id="test">Tester la connexion</h3>
        <p>
            Ex√©cutez le serveur Python, puis ouvrez le fichier client dans un navigateur pour voir les messages √©chang√©s.
        </p>
    </section>
</div>
     <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2631008307109231"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-2631008307109231"
     data-ad-slot="7557046147"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<footer>
    <p>Cours WebSocket &copy; 2024</p>
    <a class="links1" href="https://scratch.mit.edu/users/SERPENT1867/">Scratch</a>
    <a class="links1" href="https://turbowarp.org/">TurboWarp</a>
    <a class="links1" href="https://github.com/Eaielectronic">GitHub</a>
     <a class="links1" href="../../">Retour</a>
    
</footer>

<script>
    const sidebar = document.getElementById("sidebar");
    const toggleButton = document.getElementById("toggleButton");

    // Fonction pour ouvrir/fermer le panneau lat√©ral
    toggleButton.onclick = function() {
        if (sidebar.style.left === "-220px") {
            sidebar.style.left = "0";
        } else {
            sidebar.style.left = "-220px";
        }
    };

    // Fermer la barre lat√©rale si on clique en dehors
    document.addEventListener('click', function(event) {
        if (!sidebar.contains(event.target) && event.target !== toggleButton) {
            sidebar.style.left = "-220px";
        }
    });
</script>

</body>
</html>